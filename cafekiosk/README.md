### 요구사항

- 주문 목록에 음료 추가/삭제 기능
- 주문 목록 전체 지우기
- 주문 목록 총 금액 계산하기
- 주문 생성하기

---

- 가게 운영 시간(10:00~22:00) 외에는 주문을 생성할 수 없다.

---

### 테스트 케이스 세분화하기

경계값 테스트
범위(이상, 이하, 초과, 미만), 구간, 날짜 등
ㄴ해피 케이스
ㄴ예외 케이스

### 테스트하기 어려운 영역

- 관측할 때마다 다른 값에 의존하는 코드
    - 현재 날짜/시간, 랜덤 값, 전역 변수/함수, 사용자 입력 등
- 외부 세계에 영향을 주는 코드
    - 표준 출력, 메세지 발송, 데이터베이스에 기록하기 등

### 순수함수(pure functions)

- 같은 입력에는 항상 같은 결고
- 외부 세상과 단절된 형태
- 테스트하기 쉬운 코드

### 테스트는 [문서]다.

문서?

- 프로덕션 기능을 설명하는 테스트 코드 문서
- 다양한 테스트 케이스를 통해 프로덕션 코드를 이해하는 시각과 관점을 보완
- 어느 한 사람이 과거에 경험했던 고민의 결과물을 팀 차원으로 승격시켜서, 모두의 자산으로 공유할 수 있다.

### DisplayName을 섬세하게

```
- 음료 1개 추가 테스트
    - "~테스트" 지양하기
- 음료를 1개 추가할 수 있다.
```

```
- 명사의 나열보다 문장으로
    - A이면 B이다. A이면 B가 아니고 C다.
- 음료를 1개 추가하면 주문 목록에 담긴다.
    - 테스트 행위에 대한 결과까지 기술
```

```
- 특정 시간 이전에 주문을 생성하면 실패한다.
- 영업 시작 시간 이전에는 주문을 생성할 수 없다.
    - 도메인 용어를 사용하여 한층 추상화된 내용을 담기
      메서드 자체의 관점보다 도메인 정책 관점으로
    - 테스트의 현상을 중점으로 기술하지 말 것
```

### BDD, Behavior Driven Development

- TDD에서 파생된 개발 방법
- 함수 단위의 테스트에 집중하기 보다,
  시나리오에 기반한 **테스트케이스(TC)** 자체에 집중하여 테스트한다.
- 개발자가 아닌 사람이 봐도 이해할 수 있을 정도의
  추상화 수준(레벨)을 권장

### Given / When / Then

- Given : 시나리오 진행에 필요한 모든 준비 과정
    - 객체, 값, 상태 등
- When : 시나리오 행동 진행
- Then : 시나리오 진행에 대한 결과 명시, 검증

```
어떤 환경에서(Given)
어떤 행동을 진행했을 때(When)
어떤 상태 변화가 일어난다(Then).
-> DisplayName에 명확하게 작성할 수 있다.
```